<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction &mdash; SALT Model 1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Fitting SALT to Data" href="fitting.html" />
    <link rel="prev" title="Overview" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/theme.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">General Usage</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#about-the-model">About the Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#free-parameters">Free Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#using-the-model">Using the Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Fitting to Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="fitting.html">Fitting SALT to Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Code</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">SALT</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SALT Model</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Introduction</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/general_usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h1>
<p>The semi-analyitcal line transfer (SALT) model is a semi-analytical radiation transfer model designed to predict the spectra of galactic outflows.  This documentation shows how to install and compute SALT.  Examples of different line profile predictions are provided.  In addition, we provide a detailed example showcasing how to fit SALT to a real spectrum.</p>
<section id="about-the-model">
<h2>About the Model<a class="headerlink" href="#about-the-model" title="Permalink to this heading"></a></h2>
<p>The SALT model was first introduced by Scarlata and Panagia (2015), but has since been modified by Carr et al. (2018,2023).  The
following documentation is based on the formalism presented in Carr et al. (2023).  While we refer the reader to this paper for
the details regarding the calculation of the radiation transfer, we provide a physical description of the model and its parameter space here.  All projects which use the SALT model should cite the Carr et al. (2023) paper.</p>
<p>The basic model assumes a spherical source of isotropically emitted radiation which propogates through an expanding medium (i.e., an outflow).  The outflow is characterized by a density field, <span class="math notranslate nohighlight">\(n(r)=n_0(\frac{r}{R_{SF}})^{-\delta}\)</span>, and velocity field, <span class="math notranslate nohighlight">\(v(r)=v_0(\frac{r}{R_{SF}})^{\gamma}\)</span>.  The geometry of the outflow is that of a bicone described by an opening angle, <span class="math notranslate nohighlight">\(\alpha\)</span>, and orientation angle, <span class="math notranslate nohighlight">\(\psi\)</span>, which can open all the way into a sphere.  A picture of the general model is provided in Figure 1.  In addition, the outflow is assumed to be embedded in a spherical envelope of dust with density which scales with the density of the outflow (see Carr et al. 2021 for a description).  The observational effects of a limiting observing aperture is also considered.</p>
<figure class="align-default" id="id1">
<img alt="_images/f1.jpg" class="with-border" src="_images/f1.jpg" />
<figcaption>
<p><span class="caption-text">The model consists of a biconical outflow of opening angle, <span class="math notranslate nohighlight">\(\alpha\)</span>, and orientation angle, <span class="math notranslate nohighlight">\(\psi\)</span>, which extends from the surface of the star forming region at radius, <span class="math notranslate nohighlight">\(R_{SF}\)</span>, to a terminal radius, <span class="math notranslate nohighlight">\(R_{W}\)</span>.</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The SALT model represents a solution to the radiation transfer of resonant photons through the outflow.  In addition, SALT can handle fluorescent emission following resonant scattering (see Scarlata and Panagia 2015 for details).  The next section shows how to compute SALT given various line profiles.  Examples include lines with and without fluorescence.</p>
</section>
<section id="free-parameters">
<h2>Free Parameters<a class="headerlink" href="#free-parameters" title="Permalink to this heading"></a></h2>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">SALT Parameters</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\alpha\)</span></p></td>
<td><p>half opening angle</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\psi\)</span></p></td>
<td><p>orientation angle</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\tau\)</span></p></td>
<td><p>optical depth divided by <span class="math notranslate nohighlight">\(f_{ul}\lambda_{ul}\ [\text{Å}^{-1}]\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\gamma\)</span></p></td>
<td><p>velocity field power law index</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(v_{0}\)</span></p></td>
<td><p>launch velocity <span class="math notranslate nohighlight">\([\rm km\ s^{-1}]\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(v_{\infty}\)</span></p></td>
<td><p>terminal velocity <span class="math notranslate nohighlight">\([\rm km\ s^{-1}]\)</span></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\delta\)</span></p></td>
<td><p>density field power law index</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\kappa\)</span></p></td>
<td><p>dust opacity multiplied by <span class="math notranslate nohighlight">\(R_{SF}n_{0,dust}\)</span></p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(v_{ap}\)</span></p></td>
<td><p>velocity field at <span class="math notranslate nohighlight">\(R_{AP}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(f_c\)</span></p></td>
<td><p>covering fraction inside outflow</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="using-the-model">
<h1>Using the Model<a class="headerlink" href="#using-the-model" title="Permalink to this heading"></a></h1>
<p>The SALT model code consists of three python scripts: SALT2022_Absorption.py, SALT2022_Emission.py, and SALT2022_LineProfile.py.  All three scripts can be obtained from GitHub by entering the following command in a terminal window  git clone <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:CodyCarr/SALT.git.  The model can also be accessed by downloading the three scripts from the following documentation.  Working from within the SALT folder, one can run SALT with Python using the following script.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">SALT2022_LineProfile</span> <span class="kn">import</span> <span class="n">Line_Profile</span>

<span class="c1"># SALT parameters</span>
<span class="n">alpha</span><span class="p">,</span><span class="n">psi</span><span class="p">,</span><span class="n">gamma</span><span class="p">,</span> <span class="n">tau</span><span class="p">,</span> <span class="n">v_0</span><span class="p">,</span> <span class="n">v_w</span><span class="p">,</span> <span class="n">v_ap</span><span class="p">,</span> <span class="n">f_c</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">delta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">25.0</span><span class="p">,</span><span class="mf">500.0</span><span class="p">,</span><span class="mf">500.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">3.0</span>

<span class="c1"># refence wavelength</span>
<span class="n">lam_ref</span> <span class="o">=</span> <span class="mf">1193.28</span>

<span class="c1"># Observed velocity range centered on lam_ref</span>
<span class="n">v_obs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2000</span><span class="p">,</span><span class="mi">2000</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>

<span class="c1"># Background to be scattered through SALT (this example assumes a flat continuum)</span>
<span class="n">background</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">v_obs</span><span class="p">)</span>

<span class="c1"># Turn Aperture and Occultation effect on or off (True or False)</span>
<span class="n">OCCULTATION</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">APERTURE</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Outflow parameters</span>
<span class="n">flow_parameters</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;alpha&#39;</span><span class="p">:</span><span class="n">alpha</span><span class="p">,</span> <span class="s1">&#39;psi&#39;</span><span class="p">:</span><span class="n">psi</span><span class="p">,</span> <span class="s1">&#39;gamma&#39;</span><span class="p">:</span><span class="n">gamma</span><span class="p">,</span> <span class="s1">&#39;tau&#39;</span><span class="p">:</span><span class="n">tau</span><span class="p">,</span> <span class="s1">&#39;v_0&#39;</span><span class="p">:</span><span class="n">v_0</span><span class="p">,</span> <span class="s1">&#39;v_w&#39;</span><span class="p">:</span><span class="n">v_w</span><span class="p">,</span> <span class="s1">&#39;v_ap&#39;</span><span class="p">:</span><span class="n">v_ap</span><span class="p">,</span> <span class="s1">&#39;f_c&#39;</span><span class="p">:</span><span class="n">f_c</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">:</span><span class="n">k</span><span class="p">,</span> <span class="s1">&#39;delta&#39;</span><span class="p">:</span><span class="n">delta</span><span class="p">}</span>

<span class="c1"># Line Profile parameters</span>
<span class="c1"># abs_waves --&gt; array/list of resonant absorption wavelengths, ordered from shortest to longest</span>
<span class="c1"># abs_osc_strs --&gt; array/list of oscillator strengths :math:`f_{lu}` matching abs_waves in order and number</span>
<span class="c1"># em_waves --&gt; array/list of resonant absorption wavelengths corresponding to each emission wavelength (includes resonance and fluorescence)</span>
<span class="c1"># em_osc_strs --&gt; same as em_waves, but contains the associated oscillator strength for each absorption transition</span>
<span class="c1"># res --&gt; array/list declares which lines in em_waves are resonant (True or False)</span>
<span class="c1"># fluor --&gt; array/list declares which lines in em_waves are flourescent (True or False)</span>
<span class="c1"># p_r --&gt; probability for resonance (see Scarlata and Panagia 2015 for definition)</span>
<span class="c1"># p_f --&gt; probability for fluorescence (see Scarlata and Panagia 2015 for definition)</span>
<span class="c1"># final_waves --&gt; determines all possible wavelengths for emission</span>
<span class="c1"># line_num --&gt; list/array location corresponds to total # of absorption lines, number corresponds to number of emission lines resulting from the corresonding absorption</span>
<span class="c1"># v_obs --&gt; list/array observed velocity values used in line profile, must contain enough room to capture all absorption/emission</span>
<span class="c1"># lam_ref --&gt; reference wavelength for observed velocity range (i.e., location of zero observed velocity)</span>
<span class="c1"># APERTURE --&gt; True or False determines if aperture is on or off</span>
<span class="c1"># OCCULTATION --&gt; True or False determines if photons emitted from behind the source are blocked or not</span>

<span class="n">profile_parameters</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;abs_waves&#39;</span><span class="p">:[</span><span class="mf">1190.42</span><span class="p">,</span><span class="mf">1193.28</span><span class="p">],</span><span class="s1">&#39;abs_osc_strs&#39;</span><span class="p">:[</span><span class="mf">0.277</span><span class="p">,</span><span class="mf">.575</span><span class="p">],</span> <span class="s1">&#39;em_waves&#39;</span><span class="p">:[</span><span class="mf">1190.42</span><span class="p">,</span><span class="mf">1190.42</span><span class="p">,</span><span class="mf">1193.28</span><span class="p">,</span><span class="mf">1193.28</span><span class="p">],</span><span class="s1">&#39;em_osc_strs&#39;</span><span class="p">:[</span><span class="mf">0.277</span><span class="p">,</span><span class="mf">0.277</span><span class="p">,</span><span class="mf">0.575</span><span class="p">,</span><span class="mf">0.575</span><span class="p">],</span><span class="s1">&#39;res&#39;</span><span class="p">:[</span><span class="kc">True</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="kc">True</span><span class="p">,</span><span class="kc">False</span><span class="p">],</span><span class="s1">&#39;fluor&#39;</span><span class="p">:[</span><span class="kc">False</span><span class="p">,</span><span class="kc">True</span><span class="p">,</span><span class="kc">False</span><span class="p">,</span><span class="kc">True</span><span class="p">],</span><span class="s1">&#39;p_r&#39;</span><span class="p">:[</span><span class="mf">.1592</span><span class="p">,</span><span class="mf">.1592</span><span class="p">,</span><span class="mf">.6577</span><span class="p">,</span><span class="mf">.6577</span><span class="p">],</span><span class="s1">&#39;p_f&#39;</span><span class="p">:[</span><span class="mf">.8408</span><span class="p">,</span><span class="mf">.8408</span><span class="p">,</span><span class="mf">.3423</span><span class="p">,</span><span class="mf">.3423</span><span class="p">],</span><span class="s1">&#39;final_waves&#39;</span><span class="p">:[</span><span class="mf">1190.42</span><span class="p">,</span><span class="mf">1194.5</span><span class="p">,</span><span class="mf">1193.28</span><span class="p">,</span><span class="mf">1197.39</span><span class="p">],</span><span class="s1">&#39;line_num&#39;</span><span class="p">:[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;v_obs&#39;</span><span class="p">:</span><span class="n">v_obs</span><span class="p">,</span><span class="s1">&#39;lam_ref&#39;</span><span class="p">:</span><span class="n">lam_ref</span><span class="p">,</span> <span class="s1">&#39;APERTURE&#39;</span><span class="p">:</span><span class="n">APERTURE</span><span class="p">,</span><span class="s1">&#39;OCCULTATION&#39;</span><span class="p">:</span><span class="n">OCCULTATION</span><span class="p">}</span>

<span class="c1">#Line_Profile --&gt; output spectrum or line profile</span>
<span class="n">spectrum</span>  <span class="o">=</span> <span class="n">Line_Profile</span><span class="p">(</span><span class="n">v_obs</span><span class="p">,</span><span class="n">lam_ref</span><span class="p">,</span><span class="n">background</span><span class="p">,</span><span class="n">flow_parameters</span><span class="p">,</span><span class="n">profile_parameters</span><span class="p">)</span>

<span class="c1"># plot spectrum in terms of observed velocities</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">v_obs</span><span class="p">,</span><span class="n">spectrum</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">linewidth</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Velocity &#39;</span><span class="o">+</span><span class="sa">r</span><span class="s1">&#39;$[\rm km \ s^{-1}]$&#39;</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$F/F_0$&#39;</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/ex1.png"><img alt="example one" src="_images/ex1.png" style="width: 700px;" /></a>
</section>
<section id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h1>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="fitting.html" class="btn btn-neutral float-right" title="Fitting SALT to Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Cody Carr.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>